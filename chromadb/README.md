# chromadb

# Text-to-Image Vector Search Application

This is an advanced text-to-image vector search application that enables multimedia search using embeddings generated by a CLIP model. The application supports image and video retrieval based on user queries, featuring a ChromaDB backend for embedding storage and cosine similarity-based retrieval.

## Features

- **Text-to-Image Search**: Retrieve images that match the input query based on cosine similarity with stored embeddings.
- **YouTube Video Search Integration**: Using the YouTube API, users can also search for relevant videos, which display as playable links.
- **User Feedback Mechanism**: Users can mark images as irrelevant for refining search results.
- **Dynamic Image Retrieval**: Use a slider to control the number of images retrieved per query.
- **Enhanced Gradio Interface**: Custom layout for easy input, output visualization, and real-time adjustments.
- **API Integrations**:
  - **ChromaDB**: For embedding management and similarity search.
  - **YouTube API**: For real-time video retrieval and playback links based on search queries.

## Setup and Installation

### Prerequisites
- Python 3.8 or higher
- A valid API key for [YouTube Data API v3](https://console.developers.google.com/). (I have mine included in the code so you may not really need to get one, I'm not very thorough with safe github practices lol)
- All required Python dependencies (listed in `requirements.txt`).

### Instructions

1. **Clone the Repository**
   ```bash
   git clone https://github.com/codedjade/chromadb
   cd chromadb
   ```

2. **Install Dependencies**
   Install all required libraries using:
   ```bash
   pip install -r requirements.txt
   ```

3. **Configure Environment Variables** (optional... and probably irrelevant)
   Create a `.env` file in the project root, then add your YouTube API key:
   ```plaintext
   YOUTUBE_API_KEY=<Your-YouTube-API-Key>
   ```
   (If at all you want to use your own API key, replace it in the main code in the file text-to-image.py)

4. **Run the Application**
   Launch the Gradio-based web interface:
   ```bash
   python3 text-to-image.py
   ```

## Usage

1. **Start the Application**: The Gradio interface will automatically open in your default browser.
2. **Perform a Search**:
   - Enter a query for image or video search.
   - Adjust the slider to set the number of images you want to retrieve.
3. **Video Mode**: Switch between image and video search modes. When in video mode, results show YouTube video links that open directly.
4. **Feedback**: Mark irrelevant images to improve the accuracy of future searches.

## Testing

1. **Functionality Testing**: Run the application and use a range of queries (e.g., "polar bears", "Pizza") to verify that both image and video retrieval work correctly. (feel free to modify the coe to include your own dataset, simply replace the path in the code, and the files in the path)

   ```bash
   image_paths = [
    "img/A_famous_landmark_in_Paris_1.jpg",
    "img/A_famous_landmark_in_Paris_2.jpg",
    "img/A_famous_landmark_in_Paris_3.jpg",
    #...more images go here
    "img/polar_bears_4.jpg",
    "img/polar_bears_5.jpg",
   ```

3. **Slider Testing**: Adjust the image retrieval slider to verify dynamic loading works as expected. (expect less accurate results as you increase the slider)
4. **YouTube API**: Ensure video retrieval works by switching to video mode and performing different searches.

## Project Structure

- **text-to-image.py**: Main application code.
- **requirements.txt**: Python dependencies.
- **.env**: Environment variables file (needs to be created manually).
- **README.md**: Project documentation.

## Troubleshooting

- **Dependencies**: Ensure `requirements.txt` is up-to-date with all required dependencies. If any new ones are missing, install them individually.
- **YouTube API Errors**: Check API key validity and ensure quotas are sufficient.
- **Performance**: Adjust the number of retrieved items or image sizes to improve loading times.

## Future Improvements

- **Advanced Search Options**: Support additional multimedia formats like audio.
- **Offline Support**: Preload and cache selected embeddings for offline access.
- **Enhanced Feedback**: Add detailed feedback options for users to rank results or request similar searches.

## License

This project is licensed under the MIT License.

## Credits
Most images used in this project were gotten from unsplash
